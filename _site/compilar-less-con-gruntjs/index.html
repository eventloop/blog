<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="description" content="Responsive Bootstrap App Landing Page Template">
  <meta name="keywords" content="Kane, Bootstrap, Landing page, Template, App, Mobile, Android, iOS">
  <meta name="author" content="Mizanur Rahman">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <title>Compilar LESS con Grunt.js</title>

  <link rel="icon" href="/images/favicon.png">
  <link rel="apple-touch-icon" href="/images/favicon.png">

  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css">

  <link href='http://fonts.googleapis.com/css?family=Roboto:100,300,100italic,400,300italic' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="/stylesheets/styles.css">
  <link rel="stylesheet" href="/stylesheets/colors/yellow.css">

  <link rel="stylesheet" href="/stylesheets/responsive.css">
  <link rel="stylesheet" href="/stylesheets/pygment_trac.css">
</head>
<body>
  <div class="navbar navbar-inverse bs-docs-nav navbar-fixed-top sticky-navigation">
    <div class="container">
      <div class="navbar-header">
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#kane-navigation">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="/"><img src="/images/js-logo.png" alt=""></a>
      </div>
      <div class="navbar-collapse collapse" id="kane-navigation">
        <ul class="nav navbar-nav navbar-right main-navigation">
          <li><a href="/">Home</a></li>
          <li><a href="/#services">Eventos</a></li>
          <li><a href="/blog">Artículos</a></li>
          <li><a href="#newsletters">Newsletters</a></li>
          <li><a href="/#contact">Contáctanos</a></li>
        </ul>
      </div>
    </div>
  </div>
  <div class="app-brief blog">
    <div class="container">
      <div class="col-md-8 col-md-push-2 left-align">
        <div class="post fadeInLeft animated">
          <h1 class="post-title">Compilar LESS con Grunt.js</h1>
          <div class="post-content">
            <p>En los últimos años los desarrolladores han estado más interesados en cómo desempeñan su trabajo que en lo que producen, en cómo agilizar procesos y mejorar su flujo de trabajo. Con esa pretensión surgió Grunt para automatizar tareas repetitivas que todo desarrollador realiza como compilación, minificación, concatenación, pruebas unitarias, verificación de sintaxis, etcétera.</p>

<p>Parecido al Make de C, el Ant de XML o el Rake de Ruby, Grunt es un automatizador de tareas o un <em>build tool</em> en JavaScript que puede ser usado para proyectos en cualquier tipo de lenguaje de programación. Actualmente cuenta con más 3000 que puedes usar en tus proyectos, aunque también te ofrece la posibilidad de crear tus propios plugins. Si bien Grunt ha sido uno de los <em>task runners</em> más populares y con mayor éxito, hace no mucho han surgido nuevos como Gulp que ha puesto de relieve una presunta rivalidad.</p>

<p>En este breve artículo vamos a mostrar un ejemplo del funcionamiento de Grunt compilando archivos del preprocesador LESS para generar archivos CSS y utilizando también <a href="http://livereload.com">LiveReload</a>. Con LiveReload vamos a poder modificar archivos LESS y visualizar los estilos casi instantaneamente en el navegador.</p>

<h2 id="empezar-a-usar-grunt">Empezar a usar Grunt</h2>

<p>Para instalar Grunt en tu proyecto, el CLI de Grunt (línea de comandos), el plugin que compile LESS a CSS, así como el plugin que “escuchará” los archivos modificados para hacer <em>livereload</em>, necesitas ejecutar:</p>

<p><code>bash
npm install -g grunt-cli
npm install grunt --save-dev
npm install grunt-contrib-less --save-dev
npm install grunt-contrib-watch --save-dev
</code></p>

<p>El argumento <code>save-dev</code> es opcional y se encargará de guardar la dependencia en el <code>package.json</code> de tu proyecto. Es necesario señalar que los plugins que tienen nomenclatura del tipo <code>grunt-contrib-[algo]</code> son creados por el equipo de desarrolladores de Grunt, así que puedes tener la certeza de que son plugins muy bien soportados.</p>

<p>La estructura de las tareas en Grunt es muy simple. Necesitamos escribir un archivo llamado <strong>Gruntfile.js</strong> y exportar allí una función que será ejecutada por Grunt en la línea de comandos.</p>

<p><code>js
module.exports = function (grunt) {};
</code></p>

<p>Dentro de la función debemos añadir los plugins que utilizaremos, así como la configuración de tareas con un simple objeto pasado como argumento a la función <code>grunt.initConfig</code>.</p>

<p>```js
module.exports = function (grunt) {</p>

<p>// Configuración de tareas
  grunt.initConfig({});</p>

<p>// Plugins
  grunt.loadNpmTasks(‘NOMBRE-DEL-PLUGIN-1’);
  grunt.loadNpmTasks(‘NOMBRE-DEL-PLUGIN-2’);
  grunt.loadNpmTasks(‘NOMBRE-DEL-PLUGIN-3’);</p>

<p>};
```</p>

<h2 id="compilar-less-en-modo-desarrollo-y-modo-produccin">Compilar LESS en modo desarrollo y modo producción</h2>

<p>Necesitamos crear dos subtareas: <code>less:production</code> y <code>less:development</code>, para ello escribimos lo siguiente:</p>

<p>```js
module.exports = function (grunt) {</p>

<p>grunt.initConfig({
    less: {
    development: {
        files: {
          ‘css/styles.css’: ‘less/styles.less’
        }
      },
      production: {
        options: {
          cleancss: true
        },
        files: {
          ‘css/styles.min.css’: ‘less/styles.less’
        }
      }
    }
  });</p>

<p>grunt.loadNpmTasks(‘grunt-contrib-less’);</p>

<p>};
```</p>

<p>De esta manera cuando ejecutemos en la línea de comandos <code>grunt less:development</code> o <code>grunt less:production</code> (con <em>minification</em> declarada con <code>cleancss: true</code>), Grunt nos ayudará a compilar los archivos LESS que definimos en el objeto. Pero, debido a que Grunt es un automatizador de tareas y pretende ayudarnos en nuestro proceso de desarrollo, podemos implantar el plugin <code>grunt-contrib-watch</code> que escuchará los archivos LESS modificados, los compilará automáticamente y realizará un <em>livereload</em> de nuestro navegador.</p>

<p>Al final tendremos nuestro código así:</p>

<p>```js
module.exports = function (grunt) {</p>

<p>grunt.initConfig({
    less: {
    development: {
        files: {
          ‘css/styles.css’: ‘less/styles.less’
        }
      },
      production: {
        options: {
          cleancss: true
        },
        files: {
          ‘css/styles.min.css’: ‘less/styles.less’
        }
      }
    },
    watch: {
      less: {
        files: [‘less/styles.less’],
        tasks: [‘less:development’],
        options: {
          spawn: false,
          livereload: true
        }
      }
    }
  });</p>

<p>grunt.loadNpmTasks(‘grunt-contrib-less’);
  grunt.loadNpmTasks(‘grunt-contrib-watch’);</p>

<p>};
```</p>

<p>La tarea <code>watch:less</code> contiene la cadena de los archivos que escuchará para que, cuando se modifiquen, ejecute la tarea <code>less:development</code>. No necesitamos ejecutar <code>less:production</code> porque se supone que el LiveReload sólo lo utilizaremos cuando estemos desarrollando. En las opciones, es necesario definir <em>livereload</em> en true y <em>spawn</em> en false, éste último hará que la actualización del navegador sea más rápida. Finalmente, necesitamos vincular el CSS generado a un HTML y abrirlo en un navegador.</p>

<p>Si ejecutas ahora <code>grunt watch</code> o <code>grunt watch:less</code>, y modificas el archivo <strong>styles.less</strong>, automáticamente se compilará y el navegador será actualizado. Para que esto funcione correctamente en tu navegador, debes descargar las <a href="https://github.com/livereload/livereload-extensions">extensiones LiveReload</a> de Chrome, Firefox, Opera o Safari.</p>

          </div>

          <div class="meta">
            <div class="author clearfix">
              <a href="http://github.com/markotom" class="author-avatar pull-left">
                
                  <img src="http://gravatar.com/avatar/340cf435956320a68d9d1e6a82ba13c3" class="img-circle" alt="">
                
              </a>
              
              <div class="author-info">
                <div class="author-name"><strong>Marco Godínez</strong></div>
                <div class="author-description text-muted">Frontend Web Developer</div>
                <a href="http://github.com/markotom">http://github.com/markotom</a>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <footer>
    <div class="container">
      <ul class="social-icons">
        <li><a href="//facebook.com/javascriptmx">
          <?xml version="1.0" encoding="utf-8"?> <!-- Generator: IcoMoon.io --> <!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"> <svg width="32" height="32" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="#000000"><g><path d="M 26,0L 6,0 C 2.686,0,0,2.686,0,6l0,20 c0,3.314, 2.686,6, 6,6l 20,0 c 3.314,0, 6-2.686, 6-6L 32,6 C 32,2.686, 29.314,0, 26,0z M 20.136,15.998L 17.514,16l-0.002,9.6L 13.914,25.6 L 13.914,16 l-2.4,0 L 11.514,12.692 l 2.4-0.002L 13.91,10.742C 13.91,8.042, 14.642,6.4, 17.82,6.4l 2.648,0 l0,3.31 L 18.812,9.71 c-1.238,0-1.298,0.462-1.298,1.324L 17.51,12.69l 2.976,0 L 20.136,15.998z"></path></g></svg>
        </a></li>
        <li><a href="//twitter.com/javascriptmx">
          <?xml version="1.0" encoding="utf-8"?> <!-- Generator: IcoMoon.io --> <!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"> <svg width="32" height="32" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="#000000"><g><path d="M 26,0L 6,0 C 2.686,0,0,2.686,0,6l0,20 c0,3.314, 2.686,6, 6,6l 20,0 c 3.314,0, 6-2.686, 6-6L 32,6 C 32,2.686, 29.314,0, 26,0z M 23.96,12.408c 0.008,0.17, 0.012,0.34, 0.012,0.51c0,5.206-3.962,11.208-11.208,11.208c-2.224,0-4.294-0.652-6.038-1.77 c 0.308,0.036, 0.622,0.056, 0.94,0.056c 1.846,0, 3.544-0.63, 4.892-1.686c-1.724-0.032-3.178-1.172-3.68-2.736 C 9.12,18.036, 9.364,18.060, 9.62,18.060c 0.36,0, 0.708-0.048, 1.038-0.138C 8.856,17.56, 7.498,15.968, 7.498,14.060c0-0.016,0-0.032,0-0.050 c 0.532,0.296, 1.138,0.472, 1.784,0.494C 8.226,13.798, 7.53,12.592, 7.53,11.226c0-0.722, 0.194-1.398, 0.532-1.98 c 1.942,2.384, 4.846,3.952, 8.12,4.116C 16.114,13.074, 16.080,12.772, 16.080,12.464c0-2.174, 1.764-3.938, 3.94-3.938 c 1.132,0, 2.156,0.478, 2.876,1.244c 0.898-0.178, 1.742-0.506, 2.502-0.956c-0.294,0.92-0.918,1.692-1.732,2.18 c 0.796-0.094, 1.556-0.308, 2.262-0.62C 25.4,11.162, 24.73,11.856, 23.96,12.408z"></path></g></svg>
        </a></li>
      </ul>
      <p class="copyright">
        ©2015 JavascriptMX, todos los derechos reservados.
      </p>

    </div>
  </footer> 

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-53721608-1', 'auto');
    ga('send', 'pageview');
  </script>

  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>

</body>
</html>
